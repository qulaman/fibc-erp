-- Добавление тестовых данных для операций пошива

-- Удаляем старые тестовые данные (если есть)
DELETE FROM sewing_operations WHERE code LIKE 'TEST_%';

-- Вставляем тестовые операции пошива
INSERT INTO sewing_operations (code, name, category, complexity, time_norm_minutes, rate_kzt, description, status) VALUES
-- Основные операции
('SEW_001', 'Пошив днища', 'Основные операции', 2, 15, 500, 'Пошив днища мешка', 'Активно'),
('SEW_002', 'Пошив стропы верхней', 'Основные операции', 3, 20, 650, 'Пришивание верхней стропы', 'Активно'),
('SEW_003', 'Пошив стропы нижней', 'Основные операции', 3, 20, 650, 'Пришивание нижней стропы', 'Активно'),
('SEW_004', 'Пошив горловины', 'Основные операции', 2, 12, 450, 'Обработка горловины мешка', 'Активно'),
('SEW_005', 'Пошив клапана', 'Основные операции', 2, 10, 400, 'Пришивание клапана', 'Активно'),

-- Дополнительные операции
('SEW_101', 'Усиление углов', 'Дополнительные операции', 1, 8, 300, 'Усиление углов днища', 'Активно'),
('SEW_102', 'Подшивка краев', 'Дополнительные операции', 1, 5, 200, 'Обработка и подшивка краев', 'Активно'),
('SEW_103', 'Установка застежки', 'Дополнительные операции', 2, 10, 350, 'Установка застежки на клапан', 'Активно'),

-- Специальные операции
('SEW_201', 'Пошив вентиляционной ткани', 'Специальные операции', 3, 25, 800, 'Вшивание вентиляционной ткани', 'Активно'),
('SEW_202', 'Установка молнии', 'Специальные операции', 3, 30, 900, 'Установка молнии на мешок', 'Активно'),
('SEW_203', 'Двойной шов', 'Специальные операции', 4, 35, 1000, 'Выполнение усиленного двойного шва', 'Активно'),

-- Операции контроля качества
('SEW_301', 'Проверка швов', 'Контроль качества', 1, 5, 150, 'Визуальный контроль качества швов', 'Активно'),
('SEW_302', 'Испытание на прочность', 'Контроль качества', 2, 10, 300, 'Проверка прочности швов', 'Активно');

-- Проверяем, что данные добавились
SELECT
    category,
    COUNT(*) as operations_count,
    SUM(rate_kzt) as total_rate
FROM sewing_operations
WHERE status = 'Активно'
GROUP BY category
ORDER BY category;

-- Показываем все добавленные операции
SELECT
    code,
    name,
    category,
    complexity,
    time_norm_minutes,
    rate_kzt,
    status
FROM sewing_operations
ORDER BY category, code;
