# üéõÔ∏è –î–∞—à–±–æ—Ä–¥ –¶–µ—Ö–∞ –≠–∫—Å—Ç—Ä—É–∑–∏–∏

## –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ:

### 1. –ù–æ–≤–∞—è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –°—Ç—Ä–∞–Ω–∏—Ü

–°—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
/production/extrusion/page.tsx ‚Üí –§–æ—Ä–º–∞ –≤–Ω–µ—Å–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
```

–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
/production/extrusion/page.tsx              ‚Üí –ì–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ (–º–µ–Ω—é)
/production/extrusion/input/page.tsx        ‚Üí –§–æ—Ä–º–∞ –≤–Ω–µ—Å–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
/production/extrusion/history/page.tsx      ‚Üí –ñ—É—Ä–Ω–∞–ª –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
/production/extrusion/downtimes/page.tsx    ‚Üí –ñ—É—Ä–Ω–∞–ª –ø—Ä–æ—Å—Ç–æ–µ–≤ (–ù–û–í–´–ô)
/production/extrusion/personnel/page.tsx    ‚Üí –ü–µ—Ä—Å–æ–Ω–∞–ª (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
/production/extrusion/timesheet/page.tsx    ‚Üí –¢–∞–±–µ–ª—å (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
```

### 2. –ì–ª–∞–≤–Ω–∞—è –°—Ç—Ä–∞–Ω–∏—Ü–∞ –î–∞—à–±–æ—Ä–¥–∞

**–§–∞–π–ª:** `app/production/extrusion/page.tsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –ö—Ä—É–ø–Ω—ã–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏-–±–ª–æ–∫–∏ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤—Å–µ–º —Ä–∞–∑–¥–µ–ª–∞–º —ç–∫—Å—Ç—Ä—É–∑–∏–∏:
  - üè≠ –í–Ω–µ—Å—Ç–∏ –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ (–∫—Ä–∞—Å–Ω–∞—è)
  - üìã –ñ—É—Ä–Ω–∞–ª –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ (—Å–∏–Ω—è—è)
  - ‚ö†Ô∏è –ñ—É—Ä–Ω–∞–ª –ü—Ä–æ—Å—Ç–æ–µ–≤ (–æ—Ä–∞–Ω–∂–µ–≤–∞—è)
  - üë• –ü–µ—Ä—Å–æ–Ω–∞–ª (—Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è)
  - üìÖ –¢–∞–±–µ–ª—å (–∑–µ–ª–µ–Ω–∞—è)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π" –¥–æ—Å—Ç—É–ø–Ω–∞ —Å—Ä–∞–∑—É
- ‚úÖ –í—ã–±–æ—Ä –ª–∏–Ω–∏–∏ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—è –ø—Ä—è–º–æ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- ‚úÖ –ë–ª–æ–∫ –±—ã—Å—Ç—Ä–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–∑–∞–≥–ª—É—à–∫–∏)

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```typescript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ /production/extrusion
// –í–∏–¥–∏—Ç –¥–∞—à–±–æ—Ä–¥ —Å 5 –±–ª–æ–∫–∞–º–∏
// –ú–æ–∂–µ—Ç —Å—Ä–∞–∑—É –≤—ã–±—Ä–∞—Ç—å –ª–∏–Ω–∏—é –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π
// –ò–ª–∏ –Ω–∞–∂–∞—Ç—å –Ω–∞ –Ω—É–∂–Ω—ã–π –±–ª–æ–∫ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞
```

### 3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ñ—É—Ä–Ω–∞–ª–∞ –ü—Ä–æ—Å—Ç–æ–µ–≤

**–§–∞–π–ª:** `app/production/extrusion/downtimes/page.tsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –§–∏–ª—å—Ç—Ä –ø–æ –ø–µ—Ä–∏–æ–¥—É (3, 7, 14, 30 –¥–Ω–µ–π)
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
  - –í—Å–µ–≥–æ –ø—Ä–æ—Å—Ç–æ–µ–≤
  - –û–±—â–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ–µ–≤ (–≤ —á–∞—Å–∞—Ö –∏ –º–∏–Ω—É—Ç–∞—Ö)
  - –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  - –í—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- ‚úÖ –¢–æ–ø-5 –ø—Ä–∏—á–∏–Ω –ø—Ä–æ—Å—Ç–æ–µ–≤ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π (–ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã)
- ‚úÖ –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ—Å—Ç–æ–µ–≤ —Å:
  - –ú–∞—à–∏–Ω–∞ –∏ –∫–æ–¥
  - –ù–∞—á–∞–ª–æ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏–µ
  - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–∫—Ä—É–ø–Ω–æ)
  - –ü—Ä–∏—á–∏–Ω–∞ —Å —Ü–≤–µ—Ç–æ–≤—ã–º –∫–æ–¥–æ–º
  - –°–º–µ–Ω–∞ (–¥–µ–Ω—å/–Ω–æ—á—å)
  - –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

**–¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω:**
- üßµ –û–±—Ä—ã–≤ –Ω–∏—Ç–∏ ‚Üí –ñ–µ–ª—Ç—ã–π
- ‚öôÔ∏è –ü–æ–ª–æ–º–∫–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è ‚Üí –ö—Ä–∞—Å–Ω—ã–π
- üì¶ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—ã—Ä—å—è ‚Üí –û—Ä–∞–Ω–∂–µ–≤—ã–π
- üîÑ –°–º–µ–Ω–∞ –ø–∞—Ä—Ç–∏–∏ ‚Üí –°–∏–Ω–∏–π
- üîß –ü–ª–∞–Ω–æ–≤–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ ‚Üí –ó–µ–ª–µ–Ω—ã–π
- üîç –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ ‚Üí –§–∏–æ–ª–µ—Ç–æ–≤—ã–π
- ‚òï –ü–µ—Ä–µ—Ä—ã–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ ‚Üí –°–µ—Ä—ã–π
- ‚ö° –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ ‚Üí –¢–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π
- ‚ùì –î—Ä—É–≥–æ–µ ‚Üí –¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ù–∞–≤–∏–≥–∞—Ü–∏–∏

**–§–∞–π–ª:** `components/Navigation.tsx`

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
```typescript
// –ë—ã–ª–æ:
{ name: '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ', href: '/production/extrusion' }

// –°—Ç–∞–ª–æ:
{ name: '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ', href: '/production/extrusion/input' }

// –î–æ–±–∞–≤–ª–µ–Ω–æ:
{ name: '–ü—Ä–æ—Å—Ç–æ–∏', href: '/production/extrusion/downtimes' }
```

## üìã –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ—è

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `/production/extrusion`
2. –í–∏–¥–∏—Ç –∫–Ω–æ–ø–∫–∏ –ª–∏–Ω–∏–π –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. –ù–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –ª–∏–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–õ–∏–Ω–∏—è 1")
4. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ `DowntimeDialog`
5. –ó–∞–ø–æ–ª–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –Ω–∞–∂–∏–º–∞–µ—Ç "–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å"
6. –ü—Ä–æ—Å—Ç–æ–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `production_downtimes`
7. –ú–æ–∂–Ω–æ —Å—Ä–∞–∑—É –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ "–ñ—É—Ä–Ω–∞–ª –ü—Ä–æ—Å—Ç–æ–µ–≤"

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Å—Ç–æ–µ–≤

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `/production/extrusion`
2. –ù–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –æ—Ä–∞–Ω–∂–µ–≤—ã–π –±–ª–æ–∫ "–ñ—É—Ä–Ω–∞–ª –ü—Ä–æ—Å—Ç–æ–µ–≤"
3. –í–∏–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Å—Ç–æ–µ–≤
4. –ú–æ–∂–µ—Ç –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –ø–µ—Ä–∏–æ–¥—É (3, 7, 14, 30 –¥–Ω–µ–π)
5. –í–∏–¥–∏—Ç —Ç–æ–ø-5 –ø—Ä–∏—á–∏–Ω –ø—Ä–æ—Å—Ç–æ–µ–≤
6. –°–∫—Ä–æ–ª–ª–∏—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ—Å—Ç–æ–µ–≤ —Å –¥–µ—Ç–∞–ª—è–º–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –í–Ω–µ—Å–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `/production/extrusion`
2. –ù–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –∫—Ä–∞—Å–Ω—ã–π –±–ª–æ–∫ "–í–Ω–µ—Å—Ç–∏ –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ"
3. –ü–æ–ø–∞–¥–∞–µ—Ç –Ω–∞ `/production/extrusion/input`
4. –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –∫–∞–∫ —Ä–∞–Ω—å—à–µ
5. –í—ã–ø—É—Å–∫–∞–µ—Ç –ø–∞—Ä—Ç–∏—é

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

1. **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞** - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–∞—à–±–æ—Ä–¥
2. **–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø** - –∫—Ä—É–ø–Ω—ã–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏
3. **–ü—Ä–æ—Å—Ç–æ–π –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω** - –Ω–µ –Ω—É–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –ª–∏–Ω–∏—é –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
4. **–í–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ** - –∫–∞–∂–¥—ã–π —Ä–∞–∑–¥–µ–ª –∏–º–µ–µ—Ç —Å–≤–æ–π —Ü–≤–µ—Ç –∏ –∏–∫–æ–Ω–∫—É
5. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –±–ª–æ–∫–∏
6. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI** - –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, –∞–Ω–∏–º–∞—Ü–∏–∏, hover-—ç—Ñ—Ñ–µ–∫—Ç—ã

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

- ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ `/production/extrusion` - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –¥–∞—à–±–æ—Ä–¥
- ‚úÖ –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞–∂–¥—ã–π –±–ª–æ–∫ - –¥–æ–ª–∂–Ω—ã –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –í—ã–±–µ—Ä–∏—Ç–µ –ª–∏–Ω–∏—é –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π
- ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ "–ñ—É—Ä–Ω–∞–ª –ü—Ä–æ—Å—Ç–æ–µ–≤" - –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–µ

### 2. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

–í —Ñ–∞–π–ª–µ `app/production/extrusion/page.tsx` –µ—Å—Ç—å –±–ª–æ–∫ "–°–µ–≥–æ–¥–Ω—è" —Å –∑–∞–≥–ª—É—à–∫–∞–º–∏:
```typescript
<div className="text-3xl font-bold text-white">‚Äî</div>
```

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:
```typescript
const [todayStats, setTodayStats] = useState({
  batches: 0,
  weight: 0,
  downtimeMinutes: 0,
  operators: 0
});

useEffect(() => {
  const fetchTodayStats = async () => {
    const today = new Date().toISOString().split('T')[0];

    // –ü–∞—Ä—Ç–∏–π
    const { count: batchCount } = await supabase
      .from('production_extrusion')
      .select('*', { count: 'exact', head: true })
      .eq('date', today);

    // –í–µ—Å
    const { data: batches } = await supabase
      .from('production_extrusion')
      .select('output_weight_net')
      .eq('date', today);
    const totalWeight = batches?.reduce((sum, b) => sum + b.output_weight_net, 0) || 0;

    // –ü—Ä–æ—Å—Ç–æ–∏
    const { data: downtimes } = await supabase
      .from('production_downtimes')
      .select('duration_minutes')
      .eq('date', today)
      .eq('machine_type', 'extruder');
    const totalDowntime = downtimes?.reduce((sum, d) => sum + d.duration_minutes, 0) || 0;

    setTodayStats({
      batches: batchCount || 0,
      weight: totalWeight,
      downtimeMinutes: totalDowntime,
      operators: 0 // TODO
    });
  };
  fetchTodayStats();
}, []);
```

### 3. –ú–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –≤ –¥—Ä—É–≥–∏–µ —Ü–µ—Ö–∞

–¢–∞–∫—É—é –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫:
- –¢–∫–∞—á–µ—Å—Ç–≤—É
- –õ–∞–º–∏–Ω–∞—Ü–∏–∏
- –°—Ç—Ä–æ–ø–∞–º
- –ö—Ä–æ—é
- –®–≤–µ–π–Ω–æ–º—É —Ü–µ—Ö—É

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- `date-fns` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- `lucide-react` - –∏–∫–æ–Ω–∫–∏
- Tailwind CSS - —Å—Ç–∏–ª–∏

### –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- –ù–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î:
- –ù–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ `production_downtimes`)

### VIEW –¥–ª—è –∂—É—Ä–Ω–∞–ª–∞ –ø—Ä–æ—Å—Ç–æ–µ–≤:
```sql
-- –£–∂–µ —Å–æ–∑–¥–∞–Ω–∞ –≤ –º–∏–≥—Ä–∞—Ü–∏–∏
CREATE OR REPLACE VIEW downtimes_with_equipment AS
SELECT
    d.id,
    d.machine_id,
    e.name AS machine_name,
    e.type AS machine_type,
    e.code AS machine_code,
    d.start_time,
    d.end_time,
    d.duration_minutes,
    d.reason,
    d.notes,
    d.shift,
    d.date,
    d.created_at
FROM production_downtimes d
LEFT JOIN equipment e ON e.id = d.machine_id
ORDER BY d.start_time DESC;
```

–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ
