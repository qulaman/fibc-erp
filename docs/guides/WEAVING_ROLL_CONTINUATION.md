# üîÑ –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä—É–ª–æ–Ω–æ–≤ –≤ —Ç–∫–∞—á–µ—Å—Ç–≤–µ

## –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ

–í —Ç–∫–∞—Ü–∫–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ –æ–¥–∏–Ω —Ä—É–ª–æ–Ω –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–º–µ–Ω–∞—Ö:

1. **–ü–µ—Ä–≤–∞—è —Å–º–µ–Ω–∞** - –û–ø–µ—Ä–∞—Ç–æ—Ä –ê –Ω–∞—á–∏–Ω–∞–µ—Ç –Ω–∞–º–æ—Ç–∫—É —Ä—É–ª–æ–Ω–∞, –Ω–æ –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å
2. **–í—Ç–æ—Ä–∞—è —Å–º–µ–Ω–∞** - –û–ø–µ—Ä–∞—Ç–æ—Ä –ë –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –Ω–∞–º–æ—Ç–∫—É —Ç–æ–≥–æ –∂–µ —Ä—É–ª–æ–Ω–∞
3. **–¢—Ä–µ—Ç—å—è —Å–º–µ–Ω–∞** - –û–ø–µ—Ä–∞—Ç–æ—Ä –í –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä—É–ª–æ–Ω –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Å—ä–µ–º

**–î–ª—è —É—á–µ—Ç–∞ KPI –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å:**
- –°–∫–æ–ª—å–∫–æ –º–µ—Ç—Ä–æ–≤ –Ω–∞–º–æ—Ç–∞–ª –∫–∞–∂–¥—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä
- –û–±—â—É—é –¥–ª–∏–Ω—É –∏ –≤–µ—Å –≥–æ—Ç–æ–≤–æ–≥–æ —Ä—É–ª–æ–Ω–∞
- –ö–∞–∫–∏–µ –ø–∞—Ä—Ç–∏–∏ –Ω–∏—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä—É–ª–æ–Ω–∞ (–û–ø–µ—Ä–∞—Ç–æ—Ä –ê)

–û–±—ã—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞:
1. –í—ã–±–∏—Ä–∞–µ—Ç —Ç–∫–∞–Ω—å, –ø–∞—Ä—Ç–∏–∏ –Ω–∏—Ç–∏
2. –£–∫–∞–∑—ã–≤–∞–µ—Ç –¥–ª–∏–Ω—É –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–Ω—É—é –∑–∞ —Å–º–µ–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: 500 –º)
3. **–°—Ç–∞—Ç—É—Å**: "–í —Ä–∞–±–æ—Ç–µ"
4. –í–µ—Å –æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—É—Å—Ç—ã–º (–µ—â–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω)

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
```
production_weaving:
  length_meters: 500       # –ó–∞ —ç—Ç—É —Å–º–µ–Ω—É
  total_length_meters: 500 # –ù–∞–∫–æ–ø–ª–µ–Ω–æ –≤ —Ä—É–ª–æ–Ω–µ
  roll_status: "–í —Ä–∞–±–æ—Ç–µ"
  previous_doc_id: null    # –≠—Ç–æ –ø–µ—Ä–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
```

### 2. –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä—É–ª–æ–Ω–∞ (–û–ø–µ—Ä–∞—Ç–æ—Ä –ë)

1. –í –∫–∞—Ä—Ç–æ—á–∫–µ **"–ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ä—É–ª–æ–Ω—ã"** –≤–∏–¥–∏—Ç —Ä—É–ª–æ–Ω –æ—Ç –û–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ê
2. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É **"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"**
3. –§–æ—Ä–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è:
   - ‚úÖ –¢–∫–∞–Ω—å (—Ç–∞ –∂–µ —á—Ç–æ –Ω–∞—á–∞–ª –û–ø–µ—Ä–∞—Ç–æ—Ä –ê)
   - ‚úÖ –ü–∞—Ä—Ç–∏–∏ –Ω–∏—Ç–∏ (—Ç–µ –∂–µ)
   - ‚úÖ –°—Ç–∞–Ω–æ–∫ (—Ç–æ—Ç –∂–µ)
   - ‚ö†Ô∏è –û–ø–µ—Ä–∞—Ç–æ—Ä - –ü–£–°–¢–û–ô (–Ω—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Å–µ–±—è!)

4. –£–∫–∞–∑—ã–≤–∞–µ—Ç:
   - –û–ø–µ—Ä–∞—Ç–æ—Ä–∞ (—Å–µ–±—è)
   - –î–ª–∏–Ω—É –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–Ω—É—é –∑–∞ —Å–≤–æ—é —Å–º–µ–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: 600 –º)
   - **–°—Ç–∞—Ç—É—Å**: "–í —Ä–∞–±–æ—Ç–µ" (–µ—â–µ –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª)

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
```
production_weaving:
  length_meters: 600        # –ó–∞ —ç—Ç—É —Å–º–µ–Ω—É
  total_length_meters: 1100 # 500 + 600 (–Ω–∞–∫–æ–ø–ª–µ–Ω–æ)
  roll_status: "–í —Ä–∞–±–æ—Ç–µ"
  previous_doc_id: <id –¥–æ–∫—É–º–µ–Ω—Ç–∞ –û–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ê>
```

### 3. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä—É–ª–æ–Ω–∞ (–û–ø–µ—Ä–∞—Ç–æ—Ä –í)

1. –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä—É–ª–æ–Ω (–∫–∞–∫ –≤ —à–∞–≥–µ 2)
2. –£–∫–∞–∑—ã–≤–∞–µ—Ç –¥–ª–∏–Ω—É –∑–∞ —Å–≤–æ—é —Å–º–µ–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: 400 –º)
3. **–°—Ç–∞—Ç—É—Å**: "–ó–∞–≤–µ—Ä—à–µ–Ω"
4. **–í–∑–≤–µ—à–∏–≤–∞–µ—Ç —Ä—É–ª–æ–Ω** –∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—â–∏–π –≤–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: 2000 –∫–≥)

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
```
production_weaving:
  length_meters: 400         # –ó–∞ —ç—Ç—É —Å–º–µ–Ω—É
  total_length_meters: 1500  # 500 + 600 + 400 (–∏—Ç–æ–≥–æ)
  total_weight_kg: 2000      # –í–∑–≤–µ—à–µ–Ω–Ω—ã–π –≤–µ—Å —Ä—É–ª–æ–Ω–∞
  roll_status: "–ó–∞–≤–µ—Ä—à–µ–Ω"
  previous_doc_id: <id –¥–æ–∫—É–º–µ–Ω—Ç–∞ –û–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ë>

fabric_inventory:
  roll_number: "ROLL-260121-1234"
  length_meters: 1500
  weight_kg: 2000
  operation_type: "–ü—Ä–∏—Ö–æ–¥"
```

–ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏:
- ‚úÖ –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ "–ó–∞–≤–µ—Ä—à–µ–Ω"
- ‚úÖ –†—É–ª–æ–Ω –æ–ø—Ä–∏—Ö–æ–¥—É–µ—Ç—Å—è –Ω–∞ —Å–∫–ª–∞–¥ —Å –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –í—Å–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –Ω–æ–º–µ—Ä —Ä—É–ª–æ–Ω–∞

## –£—á–µ—Ç –¥–ª—è KPI

### SQL –∑–∞–ø—Ä–æ—Å –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

```sql
-- –°–∫–æ–ª—å–∫–æ –º–µ—Ç—Ä–æ–≤ –∫–∞–∂–¥—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –Ω–∞–º–æ—Ç–∞–ª –≤ —Ä—É–ª–æ–Ω–µ
SELECT
  e.full_name,
  pw.date,
  pw.shift,
  pw.length_meters as meters_this_shift,
  pw.total_length_meters as total_in_roll,
  pw.roll_status,
  pw.roll_number
FROM production_weaving pw
JOIN employees e ON pw.operator_id = e.id
WHERE pw.roll_number = 'ROLL-260121-1234'
ORDER BY pw.created_at;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
| –û–ø–µ—Ä–∞—Ç–æ—Ä   | –î–∞—Ç–∞       | –°–º–µ–Ω–∞ | –ó–∞ —Å–º–µ–Ω—É | –ò—Ç–æ–≥–æ –≤ —Ä—É–ª–æ–Ω–µ | –°—Ç–∞—Ç—É—Å    |
|-----------|-----------|-------|----------|----------------|-----------|
| –ò–≤–∞–Ω–æ–≤    | 2026-01-20 | –î–µ–Ω—å  | 500 –º    | 500 –º          | –ó–∞–≤–µ—Ä—à–µ–Ω  |
| –ü–µ—Ç—Ä–æ–≤    | 2026-01-20 | –ù–æ—á—å  | 600 –º    | 1100 –º         | –ó–∞–≤–µ—Ä—à–µ–Ω  |
| –°–∏–¥–æ—Ä–æ–≤   | 2026-01-21 | –î–µ–Ω—å  | 400 –º    | 1500 –º         | –ó–∞–≤–µ—Ä—à–µ–Ω  |

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ö–∞—Ä—Ç–æ—á–∫–∞ "–ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ä—É–ª–æ–Ω—ã"

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä—É–ª–æ–Ω—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–í —Ä–∞–±–æ—Ç–µ", –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏—Å—å:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üîÑ –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ä—É–ª–æ–Ω—ã (2)                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ –¢–∫–∞–Ω—å 90—Ö90 (T-001)                     ‚îÇ ‚îÇ
‚îÇ ‚îÇ –°—Ç–∞–Ω–æ–∫ ‚Ññ3 ‚Ä¢ 2026-01-20 ‚Ä¢ –î–µ–Ω—å           ‚îÇ ‚îÇ
‚îÇ ‚îÇ üìè 500 –º –Ω–∞–∫–æ–ø–ª–µ–Ω–æ          [–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å]‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ –¢–∫–∞–Ω—å 120—Ö120 (T-002)  –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ      ‚îÇ ‚îÇ
‚îÇ ‚îÇ –°—Ç–∞–Ω–æ–∫ ‚Ññ5 ‚Ä¢ 2026-01-21 ‚Ä¢ –ù–æ—á—å           ‚îÇ ‚îÇ
‚îÇ ‚îÇ üìè 1100 –º –Ω–∞–∫–æ–ø–ª–µ–Ω–æ         [–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å]‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è

–ö–æ–≥–¥–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä –Ω–∞–∂–∞–ª "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å", –≤ —Ñ–æ—Ä–º–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üíæ –í—ã–ø—É—Å–∫         [–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ]         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –î–ª–∏–Ω–∞ –∑–∞ —Å–º–µ–Ω—É (–º): [________]          ‚îÇ
‚îÇ ‚ö†Ô∏è –û–±—â–∏–π –≤–µ—Å —Ä—É–ª–æ–Ω–∞ (–∫–≥): [________]    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìä –ù–ê–ö–û–ü–õ–ï–ù–û –í –†–£–õ–û–ù–ï                   ‚îÇ
‚îÇ –î–ª–∏–Ω–∞: 500 –º                            ‚îÇ
‚îÇ –í–µ—Å: ‚Äî                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ–ª—è –ø—Ä–∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–∏ —Ä—É–ª–æ–Ω–∞

| –ü–æ–ª–µ                | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ                              |
|---------------------|-------------|-----------------------------------------|
| –û–ø–µ—Ä–∞—Ç–æ—Ä            | ‚úÖ –î–∞       | –£–∫–∞–∑–∞—Ç—å —Å–µ–±—è (–Ω–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è)           |
| –î–ª–∏–Ω–∞ –∑–∞ —Å–º–µ–Ω—É      | ‚úÖ –î–∞       | –°–∫–æ–ª—å–∫–æ –Ω–∞–º–æ—Ç–∞–ª –∑–∞ —Å–≤–æ—é —Å–º–µ–Ω—É           |
| –í–µ—Å                 | ‚ùå –ù–µ—Ç      | –¢–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä—É–ª–æ–Ω–∞!           |
| –°—Ç–∞—Ç—É—Å              | ‚úÖ –î–∞       | "–í —Ä–∞–±–æ—Ç–µ" –∏–ª–∏ "–ó–∞–≤–µ—Ä—à–µ–Ω"               |
| –¢–∫–∞–Ω—å, –ø–∞—Ä—Ç–∏–∏ –Ω–∏—Ç–∏  | üîí –ó–∞–±–ª–æ–∫.  | –ù–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞        |

## –†–∞—Å—á–µ—Ç –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### total_length_meters (–û–±—â–∞—è –¥–ª–∏–Ω–∞)

```typescript
if (formData.previous_doc_id) {
  const prevRoll = unfinishedRolls.find(r => r.id === formData.previous_doc_id);
  totalLength = (prevRoll.total_length_meters || 0) + lengthMeters;
} else {
  totalLength = lengthMeters; // –ü–µ—Ä–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
}
```

### total_weight_kg (–û–±—â–∏–π –≤–µ—Å)

```typescript
if (formData.roll_status === '–ó–∞–≤–µ—Ä—à–µ–Ω') {
  totalWeight = Number(formData.weight_kg); // –í–∑–≤–µ—à–µ–Ω–Ω—ã–π –≤–µ—Å —Ä—É–ª–æ–Ω–∞
} else {
  totalWeight = 0; // –ï—â–µ –Ω–µ –∏–∑–≤–µ—Å—Ç–µ–Ω
}
```

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ü–æ–ª—è –≤ production_weaving

```sql
-- –î–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–π —Å–º–µ–Ω—ã
length_meters NUMERIC(10,2)        -- –î–ª–∏–Ω–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–Ω–∞—è –∑–∞ –≠–¢–£ —Å–º–µ–Ω—É
weight_kg NUMERIC(10,2)            -- –í–µ—Å (–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏)

-- –ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ä—É–ª–æ–Ω–∞
total_length_meters NUMERIC(10,2)  -- –û–±—â–∞—è –¥–ª–∏–Ω–∞ —Ä—É–ª–æ–Ω–∞ (—Å—É–º–º–∞ –≤—Å–µ—Ö —Å–º–µ–Ω)
total_weight_kg NUMERIC(10,2)      -- –û–±—â–∏–π –≤–µ—Å —Ä—É–ª–æ–Ω–∞ (–≤–∑–≤–µ—à–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏)

-- –°–≤—è–∑—å –º–µ–∂–¥—É –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
previous_doc_id UUID               -- –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å–º–µ–Ω—É
roll_status VARCHAR(20)            -- "–í —Ä–∞–±–æ—Ç–µ" / "–ó–∞–≤–µ—Ä—à–µ–Ω"
roll_number VARCHAR(50)            -- –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
```

### –ü—Ä–∏–º–µ—Ä —Ü–µ–ø–æ—á–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```
DOC-001 (–û–ø–µ—Ä–∞—Ç–æ—Ä –ê, 500 –º, –í —Ä–∞–±–æ—Ç–µ)
   ‚Üì previous_doc_id
DOC-002 (–û–ø–µ—Ä–∞—Ç–æ—Ä –ë, 600 –º, –í —Ä–∞–±–æ—Ç–µ)
   ‚Üì previous_doc_id
DOC-003 (–û–ø–µ—Ä–∞—Ç–æ—Ä –í, 400 –º, –ó–∞–≤–µ—Ä—à–µ–Ω) ‚Üê –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è roll_number

–ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ DOC-003:
1. DOC-001 ‚Üí roll_status = "–ó–∞–≤–µ—Ä—à–µ–Ω", roll_number = "ROLL-XXX"
2. DOC-002 ‚Üí roll_status = "–ó–∞–≤–µ—Ä—à–µ–Ω", roll_number = "ROLL-XXX"
3. DOC-003 ‚Üí roll_status = "–ó–∞–≤–µ—Ä—à–µ–Ω", roll_number = "ROLL-XXX"
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –ü–æ–∏—Å–∫ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ä—É–ª–æ–Ω–æ–≤

```typescript
// –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ —Ä—É–ª–æ–Ω—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–í —Ä–∞–±–æ—Ç–µ"
const { data: rolls } = await supabase
  .from('production_weaving')
  .select('*, equipment(name)')
  .eq('roll_status', '–í —Ä–∞–±–æ—Ç–µ')
  .order('created_at', { ascending: false });

// –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤ —Ü–µ–ø–æ—á–∫–µ (–Ω–µ –∏–º–µ—é—â–∏–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è)
const finalRolls = rolls?.filter(roll => {
  const hasContinuation = rolls.some(r => r.previous_doc_id === roll.id);
  return !hasContinuation;
});
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Ü–µ–ø–æ—á–∫–∏

–ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä—É–ª–æ–Ω–∞ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ —Ü–µ–ø–æ—á–∫–µ:

```typescript
if (formData.roll_status === '–ó–∞–≤–µ—Ä—à–µ–Ω' && formData.previous_doc_id) {
  let currentDocId = formData.previous_doc_id;

  while (currentDocId) {
    await supabase
      .from('production_weaving')
      .update({
        roll_status: '–ó–∞–≤–µ—Ä—à–µ–Ω',
        roll_number: rollNumber
      })
      .eq('id', currentDocId);

    // –ò–¥–µ–º –¥–∞–ª—å—à–µ –ø–æ —Ü–µ–ø–æ—á–∫–µ
    const { data: prevDoc } = await supabase
      .from('production_weaving')
      .select('previous_doc_id')
      .eq('id', currentDocId)
      .single();

    currentDocId = prevDoc?.previous_doc_id;
  }
}
```

## –û—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –ø–æ —Ä—É–ª–æ–Ω–∞–º

```sql
-- –í–∫–ª–∞–¥ –∫–∞–∂–¥–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –≤ –≥–æ—Ç–æ–≤—ã–π —Ä—É–ª–æ–Ω
SELECT
  pw.roll_number,
  COUNT(DISTINCT pw.operator_id) as operators_count,
  SUM(pw.length_meters) as total_length,
  MAX(pw.total_weight_kg) as final_weight,
  STRING_AGG(DISTINCT e.full_name, ', ') as operators
FROM production_weaving pw
JOIN employees e ON pw.operator_id = e.id
WHERE pw.roll_status = '–ó–∞–≤–µ—Ä—à–µ–Ω'
  AND pw.roll_number IS NOT NULL
GROUP BY pw.roll_number
ORDER BY pw.roll_number DESC;
```

### –°—Ä–µ–¥–Ω—è—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–º–µ–Ω—ã

```sql
-- –°–∫–æ–ª—å–∫–æ –º–µ—Ç—Ä–æ–≤ –≤ —Å—Ä–µ–¥–Ω–µ–º –Ω–∞–º–∞—Ç—ã–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä –∑–∞ —Å–º–µ–Ω—É
SELECT
  e.full_name,
  AVG(pw.length_meters) as avg_meters_per_shift,
  COUNT(*) as shifts_worked,
  SUM(pw.length_meters) as total_meters
FROM production_weaving pw
JOIN employees e ON pw.operator_id = e.id
WHERE pw.date >= CURRENT_DATE - INTERVAL '30 days'
GROUP BY e.id, e.full_name
ORDER BY avg_meters_per_shift DESC;
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã

‚úÖ **–¢–æ—á–Ω—ã–π —É—á–µ—Ç KPI** - –∏–∑–≤–µ—Å—Ç–Ω–æ —Å–∫–æ–ª—å–∫–æ —Å–¥–µ–ª–∞–ª –∫–∞–∂–¥—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - —Ä—É–ª–æ–Ω –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å—Å—è —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ —Å–º–µ–Ω
‚úÖ **–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** - –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å–≤—è–∑–∞–Ω—ã –≤ —Ü–µ–ø–æ—á–∫—É
‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–∏ —Ä—É–ª–æ–Ω–∞
‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å** - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∫–∞–Ω—å –∏–ª–∏ –ø–∞—Ä—Ç–∏–∏ –ø—Ä–∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–∏

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚ö†Ô∏è –û–ø–µ—Ä–∞—Ç–æ—Ä –∑–∞–±—ã–ª –≤—ã–±—Ä–∞—Ç—å —Å–µ–±—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–æ–¥–æ–ª–∂–∏–ª —Ä—É–ª–æ–Ω, –Ω–æ –Ω–µ –≤—ã–±—Ä–∞–ª –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

### ‚ö†Ô∏è –£–∫–∞–∑–∞–ª –≤–µ—Å –ø—Ä–∏ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–º —Ä—É–ª–æ–Ω–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–µ—Å —É–∫–∞–∑–∞–Ω, –Ω–æ —Å—Ç–∞—Ç—É—Å "–í —Ä–∞–±–æ—Ç–µ"
**–†–µ—à–µ–Ω–∏–µ:** –í–µ—Å –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –Ω–µ "–ó–∞–≤–µ—Ä—à–µ–Ω"

### ‚ö†Ô∏è –ó–∞–±—ã–ª —É–∫–∞–∑–∞—Ç—å –≤–µ—Å –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ç–∞—Ç—É—Å "–ó–∞–≤–µ—Ä—à–µ–Ω", –Ω–æ –≤–µ—Å –ø—É—Å—Ç–æ–π
**–†–µ—à–µ–Ω–∏–µ:** –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å –æ—à–∏–±–∫–æ–π

## Roadmap

- [ ] –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–π —Ä—É–ª–æ–Ω–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏—Å—Ç–æ—Ä–∏–∏
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ü–µ–ø–æ—á–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–π —Å–º–µ–Ω–µ –æ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ä—É–ª–æ–Ω–∞—Ö
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –≤–µ—Å–∞ –ø–æ —Ñ–æ—Ä–º—É–ª–µ (–¥–ª–∏–Ω–∞ √ó –ø–ª–æ—Ç–Ω–æ—Å—Ç—å)
